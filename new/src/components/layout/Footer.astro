---
/**
 * Footer Component - Pagayo Design System
 */

import Icon from '../ui/Icon.astro';

interface FooterLink {
  label: string;
  href: string;
  isExternal?: boolean;
}

interface FooterColumn {
  title: string;
  links: FooterLink[];
}

interface SocialLink {
  platform: string;
  href: string;
  icon: string;
}

interface Props {
  columns: FooterColumn[];
  social?: SocialLink[];
  copyright?: string;
  region?: string;
  country?: string;
  class?: string;
}

const {
  columns,
  social = [],
  copyright = `Â© ${new Date().getFullYear()} Pagayo. Alle rechten voorbehouden.`,
  region = 'eu',
  country = 'nl',
  class: className = '',
} = Astro.props;

const basePath = `/${region}/${country}`;
---

<footer class:list={['footer', className]}>
  <div class="footer-container">
    <div class="footer-grid">
      <!-- Brand Column -->
      <div class="footer-brand">
        <a href={basePath} class="footer-logo">
          <img src="/logo.svg" alt="Pagayo" width="120" height="32" />
        </a>
        <p class="footer-tagline">
          Het moderne platform voor webshop verhuur en e-commerce.
        </p>
        {social.length > 0 && (
          <div class="footer-social">
            {social.map((item) => (
              <a 
                href={item.href} 
                class="social-link"
                target="_blank"
                rel="noopener noreferrer"
                aria-label={item.platform}
              >
                <Icon name={item.icon as any} size={20} />
              </a>
            ))}
          </div>
        )}
      </div>

      <!-- Link Columns -->
      {columns.map((column) => (
        <div class="footer-column">
          <h3 class="footer-column-title">{column.title}</h3>
          <ul class="footer-links">
            {column.links.map((link) => (
              <li>
                <a 
                  href={link.isExternal ? link.href : `${basePath}${link.href}`}
                  class="footer-link"
                  target={link.isExternal ? '_blank' : undefined}
                  rel={link.isExternal ? 'noopener noreferrer' : undefined}
                >
                  {link.label}
                  {link.isExternal && <Icon name="external-link" size={12} />}
                </a>
              </li>
            ))}
          </ul>
        </div>
      ))}
    </div>

    <div class="footer-bottom">
      <p class="footer-copyright">{copyright}</p>
      <div class="footer-legal">
        <a href={`${basePath}/privacy`} class="legal-link">Privacy</a>
        <a href={`${basePath}/terms`} class="legal-link">Voorwaarden</a>
      </div>
    </div>
  </div>
</footer>

<style>
  .footer {
    background: #161b22;
    border-top: 1px solid #30363d;
    padding: var(--space-16) var(--space-4);
  }

  @media (min-width: 768px) {
    .footer {
      padding: var(--space-20) var(--space-8);
    }
  }

  .footer-container {
    max-width: var(--container-xl);
    margin: 0 auto;
  }

  .footer-grid {
    display: grid;
    gap: var(--space-8);
    margin-bottom: var(--space-12);
  }

  @media (min-width: 768px) {
    .footer-grid {
      grid-template-columns: 2fr repeat(3, 1fr);
      gap: var(--space-12);
    }
  }

  /* Brand Column - GitHub Dark */
  .footer-brand {
    max-width: 300px;
  }

  .footer-logo {
    display: inline-block;
    margin-bottom: var(--space-4);
  }

  .footer-logo img {
    height: 32px;
    width: auto;
  }

  .footer-tagline {
    font-size: var(--text-sm);
    color: #8b949e;
    line-height: 1.6;
    margin-bottom: var(--space-6);
  }

  .footer-social {
    display: flex;
    gap: var(--space-3);
  }

  .social-link {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    background: #0d1117;
    border: 1px solid #30363d;
    border-radius: var(--radius-md);
    color: #8b949e;
    transition: all var(--transition-fast);
  }

  .social-link:hover {
    background: #21262d;
    color: #00ff88;
    border-color: #00ff88;
  }

  /* Link Columns - GitHub Dark */
  .footer-column-title {
    font-size: var(--text-sm);
    font-weight: 600;
    color: #c9d1d9;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-bottom: var(--space-4);
  }

  .footer-links {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  .footer-link {
    display: inline-flex;
    align-items: center;
    gap: var(--space-1);
    font-size: var(--text-sm);
    color: #8b949e;
    text-decoration: none;
    padding: var(--space-2) 0;
    transition: color var(--transition-fast);
  }

  .footer-link:hover {
    color: #00ff88;
  }

  /* Bottom Section - GitHub Dark */
  .footer-bottom {
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
    padding-top: var(--space-8);
    border-top: 1px solid #30363d;
  }

  @media (min-width: 768px) {
    .footer-bottom {
      flex-direction: row;
      justify-content: space-between;
      align-items: center;
    }
  }

  .footer-copyright {
    font-size: var(--text-sm);
    color: #8b949e;
  }

  .footer-legal {
    display: flex;
    gap: var(--space-6);
  }

  .legal-link {
    font-size: var(--text-sm);
    color: #8b949e;
    text-decoration: none;
    transition: color var(--transition-fast);
  }

  .legal-link:hover {
    color: #00ff88;
  }
</style>
