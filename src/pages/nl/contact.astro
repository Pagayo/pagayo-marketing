---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';
---
<BaseLayout
  title="Contact - Pagayo Multi-Tenant SaaS Platform"
  description="Neem contact op met ons team. We helpen je graag met vragen over onze multi-tenant SaaS oplossing."
  lang="nl"
>
  <Header />

  <main class="contact-page">
    <!-- Hero Section -->
    <section class="hero">
      <div class="hero__content">
        <p class="eyebrow">Contact</p>
        <h1>Plan een gesprek met een Pagayo specialist</h1>
        <p class="lead">
          Geen generieke salespraat. We koppelen je direct aan een lead engineer of product
          specialist die jouw use-case begrijpt: multi-tenant commerce, payments, hospitality of
          retail.
        </p>
        <div class="hero__actions">
          <a class="btn btn-primary" href="#contact-form">Plan een gesprek</a>
          <a class="btn btn-ghost" href="tel:+31205550123">Bel +31 20 555 0123</a>
        </div>
        <div class="hero__meta">
          <span class="pill">Reactie binnen 4 uur</span>
          <span class="pill">Enterprise SLA</span>
          <span class="pill">NL ¬∑ EN ¬∑ DE</span>
        </div>
      </div>

      <div class="hero__panel">
        <div class="stat-card">
          <p class="stat-label">Uptime afgelopen 12 maanden</p>
          <p class="stat-value">99,98%</p>
          <p class="stat-footnote">Actieve monitoring & incident response</p>
        </div>
        <div class="stat-card">
          <p class="stat-label">Gem. responstijd support</p>
          <p class="stat-value">36 min</p>
          <p class="stat-footnote">Tijdens kantooruren, chat & mail</p>
        </div>
        <div class="stat-card">
          <p class="stat-label">Implementaties vorig kwartaal</p>
          <p class="stat-value">27</p>
          <p class="stat-footnote">Retail, hospitality & D2C brands</p>
        </div>
      </div>
    </section>

    <!-- Contact Routes -->
    <section class="section channels">
      <div class="section-header">
        <p class="eyebrow">Routes</p>
        <h2 class="section-title">Direct met het juiste team</h2>
        <p class="section-subtitle">
          Kies de route die past bij je vraag: implementatie, technische support of strategische
          partnerships.
        </p>
      </div>

      <div class="channel-grid">
        <div class="channel-card">
          <div class="card-icon">‚Üó</div>
          <h3>Sales & implementatie</h3>
          <p>Voor nieuwe tenants, migraties en RFP's.</p>
          <ul>
            <li>Solution design binnen 48 uur</li>
            <li>Proof-of-concept in staging</li>
            <li>Begleide rollout met data migratie</li>
          </ul>
          <div class="card-actions">
            <a href="mailto:hello@pagayo.com?subject=Sales" class="link">hello@pagayo.com</a>
            <span class="pill pill-soft">Bel +31 20 555 0123</span>
          </div>
        </div>

        <div class="channel-card">
          <div class="card-icon">‚ö°</div>
          <h3>Support & incidenten</h3>
          <p>Productievragen, webhooks of checkout monitoring.</p>
          <ul>
            <li>24/7 alerting bij uptime degradatie</li>
            <li>Webhook tracing en retries</li>
            <li>Rate limiting en security review</li>
          </ul>
          <div class="card-actions">
            <button class="link" type="button" onclick="openChat()">Open live chat</button>
            <span class="pill pill-soft">Gem. 36 min responstijd</span>
          </div>
        </div>

        <div class="channel-card">
          <div class="card-icon">ü§ù</div>
          <h3>Partnerships</h3>
          <p>Integratiepartners, bureaus en payment providers.</p>
          <ul>
            <li>Co-marketing & enablement</li>
            <li>Gezamenlijke roadmap reviews</li>
            <li>Dedicated partner success</li>
          </ul>
          <div class="card-actions">
            <a href="mailto:hello@pagayo.com?subject=Partnership" class="link">Plan intake</a>
            <span class="pill pill-soft">Binnen 2 werkdagen</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Contact Form -->
    <section class="section form-section" id="contact">
      <div class="form-grid">
        <div class="form-copy">
          <p class="eyebrow">Contact</p>
          <h2 class="section-title">We reageren binnen kantooruren <span class="accent-inline">in &lt; 4 uur</span></h2>
          <p class="section-subtitle">Leg je case neer bij engineering, niet bij een callcenter.</p>
          <ul class="list-check">
            <li>Solution engineer sluit aan bij de eerste call</li>
            <li>Webhook, checkout en POS validatie v√≥√≥r go-live</li>
            <li>Roadmap en rollout plan per tenant</li>
          </ul>
          <div class="inline-meta">
            <div><span class="pill pill-soft">Telefoon</span><a class="link" href="tel:+31205550123">+31 20 555 0123</a></div>
            <div><span class="pill pill-soft">Email</span><a class="link" href="mailto:hello@pagayo.com">hello@pagayo.com</a></div>
          </div>
        </div>

        <form id="contact-form" class="form-card" action="https://beheer.pagayo.com/api/contact" method="POST">
          <div class="input-grid">
            <label>Naam*<input type="text" name="name" required placeholder="Jouw naam" /></label>
            <label>Email*<input type="email" name="email" required placeholder="jij@email.nl" /></label>
            <label>Bedrijf<input type="text" name="company" placeholder="Bedrijfsnaam" /></label>
            <label>Onderwerp*
              <select name="subject" required>
                <option value="">Selecteer een onderwerp</option>
                <option value="sales">Verkoop &amp; prijzen</option>
                <option value="demo">Demo aanvragen</option>
                <option value="technical">Technische vraag</option>
                <option value="support">Support</option>
                <option value="partnership">Partnership</option>
                <option value="other">Anders</option>
              </select>
            </label>
          </div>
          <label class="textarea">Bericht*<textarea name="message" rows="6" required placeholder="Vertel ons waar we je mee kunnen helpen..."></textarea></label>
          <input type="hidden" name="language" value="nl" />
          <input type="hidden" name="source" value="marketing_website" />
          <button class="btn btn-primary btn-full" type="submit">Verstuur bericht ‚Üí</button>
          <p class="legal">Door te versturen ga je akkoord met onze <a class="link" href="/nl/privacy">privacyverklaring</a>.</p>
          <div id="form-success" class="form-alert success hidden"><strong>Bericht verstuurd.</strong> Binnen 24 uur hoor je van ons.</div>
          <div id="form-error" class="form-alert error hidden"><strong>Er ging iets mis.</strong> Probeer opnieuw of mail naar hello@pagayo.com.</div>
        </form>
      </div>
    </section>

    <!-- Office -->
    <section class="section offices">
      <div class="section-header">
        <p class="eyebrow">Locatie</p>
        <h2 class="section-title">Amsterdam HQ, remote-first support</h2>
        <p class="section-subtitle">We ontmoeten je graag onsite of remote. Secure access via Cloudflare Zero Trust.</p>
      </div>

      <div class="office-grid">
        <div class="office-card">
          <h3>Amsterdam, Nederland</h3>
          <p>Pagayo B.V.</p>
          <p>Herengracht 123</p>
          <p>1015 BD Amsterdam</p>
          <div class="meta-row">
            <span class="pill pill-soft">KVK: 12345678</span>
            <span class="pill pill-soft">BTW: NL123456789B01</span>
          </div>
          <div class="office-links">
            <a class="link" href="tel:+31205550123">Bel +31 20 555 0123</a>
            <a class="link" href="mailto:hello@pagayo.com">Stuur email</a>
          </div>
        </div>

        <div class="map-card">
          <div class="map-copy">
            <p class="pill pill-soft">Private office</p>
            <h4>Op afspraak</h4>
            <p>Boardroom, whiteboards en secure Wi-Fi voor gezamenlijke sessies.</p>
          </div>
          <div class="map-visual">
            <span class="grid-dot"></span><span class="grid-dot"></span><span class="grid-dot"></span><span class="grid-dot"></span><span class="grid-dot"></span>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ Section -->
    <section class="section faq">
      <div class="section-header">
        <p class="eyebrow">FAQ</p>
        <h2 class="section-title">Veelgestelde vragen</h2>
        <p class="section-subtitle">Transparant over responstijden, demo's en talen.</p>
      </div>

      <div class="faq-grid">
        <div class="faq-card">
          <h3>Hoe snel krijg ik antwoord?</h3>
          <p>We reageren binnen kantooruren in minder dan 4 uur. Incidenten met impact krijgen prioriteit.</p>
        </div>
        <div class="faq-card">
          <h3>Kan ik een demo aanvragen?</h3>
          <p>Selecteer "Demo aanvragen" in het formulier. We plannen binnen 2 werkdagen een persoonlijke sessie met product + engineering.</p>
        </div>
        <div class="faq-card">
          <h3>In welke talen bieden jullie support?</h3>
          <p>Nederlands, Engels en Duits. We stemmen de documentatie af op jouw team en regio.</p>
        </div>
      </div>
    </section>

    <style>
      .contact-page { max-width: 1200px; margin: 0 auto; padding: 120px 2rem 80px; }
      .section { padding: 5rem 0; }
      .section-header { max-width: 760px; margin: 0 auto 3rem; text-align: center; }
      .section-title { font-size: clamp(2rem, 4vw, 2.8rem); font-weight: 800; margin-bottom: 1rem; }
      .section-subtitle { color: var(--text-secondary); line-height: 1.6; }
      .eyebrow { display: inline-flex; align-items: center; gap: 0.4rem; padding: 0.35rem 0.8rem; border: 1px solid var(--border); border-radius: 999px; font-size: 0.85rem; letter-spacing: 0.08em; text-transform: uppercase; color: var(--text-secondary); }
      .lead { color: var(--text-secondary); line-height: 1.6; max-width: 720px; }
      .btn { display: inline-flex; align-items: center; justify-content: center; gap: 0.6rem; padding: 0.9rem 1.5rem; border-radius: 10px; font-weight: 700; text-decoration: none; transition: all 0.25s ease; border: 1px solid transparent; cursor: pointer; }
      .btn-primary { background: linear-gradient(135deg, var(--accent) 0%, #00e077 100%); color: #06130d; box-shadow: 0 12px 30px rgba(0, 255, 136, 0.2); }
      .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 14px 36px rgba(0, 255, 136, 0.3); }
      .btn-ghost { border-color: var(--border); color: var(--text); background: rgba(10, 10, 10, 0.6); }
      .btn-ghost:hover { border-color: var(--accent); color: var(--accent); }
      .btn-full { width: 100%; justify-content: center; }
      .pill { display: inline-flex; align-items: center; gap: 0.35rem; padding: 0.35rem 0.75rem; border-radius: 999px; border: 1px solid var(--border); background: rgba(0, 255, 136, 0.05); color: var(--text); font-size: 0.85rem; }
      .pill-soft { background: rgba(0, 255, 136, 0.08); color: var(--accent); }
      .accent-inline { color: var(--accent); }
      .hero { position: relative; padding: 3.5rem; border: 1px solid var(--border); border-radius: 22px; display: grid; grid-template-columns: minmax(0, 1.1fr) minmax(0, 0.9fr); gap: 2rem; background: radial-gradient(circle at 20% 20%, rgba(0, 255, 136, 0.12), transparent 35%), radial-gradient(circle at 80% 10%, rgba(0, 255, 136, 0.08), transparent 38%), linear-gradient(180deg, rgba(15, 21, 19, 0.95) 0%, rgba(10, 10, 10, 0.95) 100%); overflow: hidden; box-shadow: 0 18px 60px rgba(0, 0, 0, 0.35); }
      .hero::before { content: ''; position: absolute; inset: -20% -30% auto -30%; background: radial-gradient(circle, rgba(0, 255, 136, 0.08), transparent 50%); filter: blur(60px); opacity: 0.8; }
      .hero::after { content: ''; position: absolute; inset: auto -20% -30% -20%; background: radial-gradient(circle, rgba(0, 255, 136, 0.06), transparent 50%); filter: blur(70px); opacity: 0.7; }
      .hero__content { position: relative; z-index: 2; display: flex; flex-direction: column; gap: 0.5rem; }
      .hero__content h1 { font-size: clamp(2.4rem, 5vw, 3.6rem); font-weight: 900; line-height: 1.1; letter-spacing: -0.02em; }
      .hero__actions { display: flex; gap: 1rem; flex-wrap: wrap; margin: 1.5rem 0 0.5rem; }
      .hero__meta { display: flex; gap: 0.75rem; flex-wrap: wrap; color: var(--text-secondary); }
      .hero__panel { position: relative; z-index: 2; display: grid; gap: 1rem; align-self: stretch; }
      .stat-card { border: 1px solid var(--border); border-radius: 16px; padding: 1.5rem; background: rgba(15, 21, 19, 0.8); box-shadow: 0 10px 30px rgba(0, 0, 0, 0.35); }
      .stat-label { color: var(--text-secondary); font-size: 0.95rem; }
      .stat-value { font-size: 2rem; font-weight: 800; color: var(--accent); margin: 0.25rem 0; }
      .stat-footnote { color: var(--text-secondary); font-size: 0.9rem; }
      .channel-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 1.5rem; }
      .channel-card { border: 1px solid var(--border); border-radius: 16px; padding: 1.8rem; background: var(--bg-secondary); box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3); display: flex; flex-direction: column; gap: 0.75rem; transition: all 0.25s ease; }
      .channel-card:hover { border-color: var(--accent); transform: translateY(-4px); box-shadow: 0 16px 36px rgba(0, 255, 136, 0.14); }
      .card-icon { width: 44px; height: 44px; display: grid; place-items: center; border-radius: 12px; background: rgba(0, 255, 136, 0.1); color: var(--accent); font-weight: 700; }
      .channel-card h3 { font-size: 1.25rem; font-weight: 800; margin: 0.25rem 0; }
      .channel-card p { color: var(--text-secondary); }
      .channel-card ul { list-style: none; padding: 0; margin: 0.25rem 0 0; display: flex; flex-direction: column; gap: 0.35rem; color: var(--text-secondary); }
      .card-actions { display: flex; gap: 0.75rem; flex-wrap: wrap; align-items: center; margin-top: auto; }
      .link { color: var(--accent); text-decoration: none; font-weight: 700; background: none; border: none; padding: 0; }
      .link:hover { text-decoration: underline; }
      .form-grid { display: grid; grid-template-columns: minmax(0, 0.9fr) minmax(0, 1.1fr); gap: 2rem; align-items: start; }
      .form-copy { border: 1px solid var(--border); border-radius: 16px; padding: 2rem; background: var(--bg-secondary); box-shadow: 0 12px 30px rgba(0, 0, 0, 0.35); display: flex; flex-direction: column; gap: 1rem; }
      .list-check { list-style: none; padding: 0; margin: 0.5rem 0 0; display: flex; flex-direction: column; gap: 0.5rem; color: var(--text-secondary); }
      .list-check li::before { content: '‚úì'; color: var(--accent); margin-right: 0.6rem; }
      .inline-meta { display: flex; gap: 1rem; flex-wrap: wrap; align-items: center; }
      .form-card { border: 1px solid var(--border); border-radius: 16px; padding: 2rem; background: linear-gradient(135deg, rgba(0, 255, 136, 0.04), rgba(10, 10, 10, 0.9)); box-shadow: 0 12px 30px rgba(0, 0, 0, 0.35); display: flex; flex-direction: column; gap: 1rem; }
      .input-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 1rem; }
      .form-card label { display: flex; flex-direction: column; gap: 0.35rem; font-weight: 600; color: var(--text); font-size: 0.95rem; }
      .form-card input, .form-card select, .form-card textarea { background: rgba(255, 255, 255, 0.02); border: 1px solid var(--border); border-radius: 10px; padding: 0.75rem 0.85rem; color: var(--text); font-size: 1rem; font-weight: 500; }
      .form-card input:focus, .form-card select:focus, .form-card textarea:focus { outline: none; border-color: var(--accent); box-shadow: 0 0 0 3px rgba(0, 255, 136, 0.15); }
      .textarea textarea { min-height: 160px; resize: vertical; }
      .legal { color: var(--text-secondary); text-align: left; font-size: 0.9rem; }
      .form-alert { border-radius: 12px; padding: 1rem 1.25rem; border: 1px solid transparent; font-size: 0.95rem; }
      .form-alert.success { border-color: #1f9d62; background: rgba(0, 255, 136, 0.08); color: #caffd8; }
      .form-alert.error { border-color: #df1b41; background: rgba(223, 27, 65, 0.1); color: #ffd7df; }
      .hidden { display: none; }
      .office-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem; align-items: stretch; }
      .office-card { border: 1px solid var(--border); border-radius: 16px; padding: 1.8rem; background: var(--bg-secondary); box-shadow: 0 12px 30px rgba(0, 0, 0, 0.32); display: flex; flex-direction: column; gap: 0.35rem; }
      .office-card h3 { font-size: 1.2rem; font-weight: 800; margin-bottom: 0.25rem; }
      .meta-row { display: flex; gap: 0.6rem; flex-wrap: wrap; margin: 0.75rem 0; }
      .office-links { display: flex; gap: 1rem; flex-wrap: wrap; }
      .map-card { position: relative; border: 1px solid var(--border); border-radius: 16px; padding: 1.5rem; background: linear-gradient(135deg, rgba(0, 255, 136, 0.05), rgba(0, 0, 0, 0.9)); overflow: hidden; }
      .map-copy h4 { margin: 0.25rem 0; font-size: 1.1rem; }
      .map-visual { margin-top: 1rem; min-height: 150px; border: 1px dashed var(--border); border-radius: 12px; display: flex; gap: 0.5rem; flex-wrap: wrap; padding: 0.75rem; }
      .grid-dot { width: 14px; height: 14px; border-radius: 50%; background: var(--accent); opacity: 0.7; }
      .faq-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 1rem; }
      .faq-card { border: 1px solid var(--border); border-radius: 14px; padding: 1.5rem; background: var(--bg-secondary); box-shadow: 0 12px 24px rgba(0, 0, 0, 0.3); }
      .faq-card h3 { margin-bottom: 0.35rem; }
      .faq-card p { color: var(--text-secondary); }
      @media (max-width: 1024px) { .contact-page { padding: 100px 1.5rem 70px; } .hero { grid-template-columns: 1fr; } .hero__panel { grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); } }
      @media (max-width: 768px) { .section { padding: 4rem 0; } .form-grid { grid-template-columns: 1fr; } .inline-meta { flex-direction: column; align-items: flex-start; } }
    </style>
  </main>
  <Footer />
</BaseLayout>

<script>
  const form = document.getElementById('contact-form') as HTMLFormElement;
  const successMsg = document.getElementById('form-success');
  const errorMsg = document.getElementById('form-error');

  form?.addEventListener('submit', async (e) => {
    e.preventDefault();

    const formData = new FormData(form);
    const data = Object.fromEntries(formData);

    try {
      const response = await fetch(form.action, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data),
      });

      if (!response.ok) throw new Error('Server error');

      successMsg?.classList.remove('hidden');
      errorMsg?.classList.add('hidden');
      form.reset();
      form.querySelectorAll('button, input, textarea, select').forEach((el) => {
        (el as HTMLInputElement).disabled = true;
      });
    } catch (error) {
      errorMsg?.classList.remove('hidden');
      successMsg?.classList.add('hidden');
    }
  });

  function openChat() {
    // Placeholder voor chat integration (Intercom, Crisp, etc.)
    alert('Live chat wordt binnenkort toegevoegd!');
  }
</script>
