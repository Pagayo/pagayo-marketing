---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';
---

<BaseLayout
  title="Data-encryptie per tenant | Pagayo"
  description="Uitleg voor organisaties: hoe Pagayo data per tenant versleutelt met eigen sleutels en auditable toegang."
  lang="nl"
>
  <Header />

  <main class="page">
    <section class="hero">
      <p class="eyebrow">Security</p>
      <h1>Eigen sleutel per tenant, altijd versleuteld</h1>
      <p class="lead">Pagayo versleutelt gevoelige gegevens per tenant met een eigen sleutel in Google KMS. Zonder die sleutel is de data onleesbaar, ook voor ons.</p>
      <div class="hero-actions">
        <a class="btn btn-primary" href="/nl/contact">Plan een security call</a>
        <a class="btn btn-ghost" href="/nl/features">Bekijk alle features</a>
      </div>
      <div class="pill-row">
        <span class="pill">Per-tenant KMS sleutel</span>
        <span class="pill">Envelope encryption (AES-256-GCM)</span>
        <span class="pill">Audit logs op elke decrypt</span>
      </div>
    </section>

    <section class="section">
      <div class="section-header">
        <p class="eyebrow">Waarom</p>
        <h2>Alleen de juiste tenant kan lezen</h2>
        <p class="section-sub">Backups en databases bevatten alleen ciphertext. Toegang loopt via KMS + tenantcontext.</p>
      </div>
      <div class="grid">
        <div class="card">
          <h3>Verdediging in de diepte</h3>
          <p>Zelfs met DB-toegang blijft PII onleesbaar zonder KMS-toestemming. Elke poging wordt gelogd.</p>
        </div>
        <div class="card">
          <h3>Geen gedoe voor jouw team</h3>
          <p>Sleutels staan veilig in KMS. Jij hoeft niets te beheren; decrypt gebeurt automatisch en auditable.</p>
        </div>
        <div class="card">
          <h3>Veilig supporten</h3>
          <p>Alle decrypts gaan via rollen en logs. Geen ruwe exports, geen sleutels in code of dashboards.</p>
        </div>
      </div>
    </section>

    <section class="section">
      <div class="section-header">
        <p class="eyebrow">Hoe werkt het</p>
        <h2>Envelope encryption per tenant</h2>
        <p class="section-sub">Data-keys versleutelen de velden; die data-keys worden ingepakt met de tenant master key in KMS.</p>
      </div>
      <ol class="steps">
        <li><strong>Schrijven:</strong> we maken een data-key, versleutelen PII en slaan ciphertext + ingepakte data-key op.</li>
        <li><strong>Lezen:</strong> in tenantcontext vragen we KMS de data-key uit te pakken; daarmee ontsleutelen we on the fly.</li>
        <li><strong>Audits:</strong> elke decrypt-call wordt gelogd in KMS + Pagayo audit trail.</li>
      </ol>
    </section>

    <section class="section">
      <div class="section-header">
        <p class="eyebrow">Wat jij merkt</p>
        <h2>Geen extra werk, wel meer zekerheid</h2>
      </div>
      <div class="grid">
        <div class="card">
          <h3>Snel & soepel</h3>
          <p>Data-key caching houdt alles snel; decrypt is sub-ms na eerste unwrap.</p>
        </div>
        <div class="card">
          <h3>Backups blijven veilig</h3>
          <p>Backups zijn waardeloos zonder jouw tenant-sleutel in KMS.</p>
        </div>
        <div class="card">
          <h3>Rotatie en rollback</h3>
          <p>Sleutels zijn te roteren zonder dataverlies; rollback behoudt ciphertext.</p>
        </div>
      </div>
    </section>

    <section class="section faq">
      <div class="section-header">
        <p class="eyebrow">FAQ</p>
        <h2>Veelgestelde vragen</h2>
      </div>
      <div class="faq-items">
        <div class="faq-item">
          <h3>Ziet Pagayo mijn klantdata?</h3>
          <p>Niet zonder tenant-sleutel. Alle decrypts lopen via KMS + audit logs.</p>
        </div>
        <div class="faq-item">
          <h3>Beïnvloedt dit performance?</h3>
          <p>We cachen data-keys kort. Na de eerste unwrap is decrypt praktisch direct.</p>
        </div>
        <div class="faq-item">
          <h3>Welke data?</h3>
          <p>PII zoals naam, e-mail, telefoon, adres. Payment data blijft bij de PSP.</p>
        </div>
      </div>
    </section>

    <section class="cta">
      <div class="cta__content">
        <p class="eyebrow">Security als feature</p>
        <h2>Meer weten over tenant keys?</h2>
        <p>Plan een korte call. We laten zien hoe jouw data geïsoleerd en versleuteld blijft.</p>
        <div class="cta__actions">
          <a class="btn btn-primary" href="/nl/contact">Plan een security call</a>
          <a class="btn btn-ghost" href="/nl/features">Bekijk alle features</a>
        </div>
      </div>
    </section>
  </main>

  <Footer />
</BaseLayout>

<style>
  .page { max-width: 1100px; margin: 0 auto; padding: 120px 2rem 80px; display: flex; flex-direction: column; gap: 3.5rem; }
  .hero { border: 1px solid var(--border); border-radius: 18px; padding: 2.5rem; background: linear-gradient(135deg, rgba(0,255,136,0.08), rgba(0,0,0,0.85)); box-shadow: 0 18px 50px rgba(0,0,0,0.35); display: flex; flex-direction: column; gap: 1rem; }
  .eyebrow { display: inline-flex; align-items: center; gap: 0.4rem; padding: 0.35rem 0.8rem; border: 1px solid var(--border); border-radius: 999px; font-size: 0.85rem; letter-spacing: 0.08em; text-transform: uppercase; color: var(--text-secondary); }
  h1 { font-size: clamp(2rem, 4vw, 3rem); letter-spacing: -0.02em; }
  .lead { color: var(--text-secondary); line-height: 1.6; max-width: 820px; }
  .hero-actions { display: flex; gap: 0.75rem; flex-wrap: wrap; }
  .btn { display: inline-flex; align-items: center; justify-content: center; gap: 0.6rem; padding: 0.9rem 1.4rem; border-radius: 10px; font-weight: 700; text-decoration: none; border: 1px solid transparent; transition: all 0.25s ease; cursor: pointer; }
  .btn-primary { background: linear-gradient(135deg, var(--accent) 0%, #00e077 100%); color: #06130d; box-shadow: 0 12px 30px rgba(0,255,136,0.2); }
  .btn-ghost { border: 1px solid var(--border); color: var(--text); background: rgba(10,10,10,0.6); }
  .btn-primary:hover { transform: translateY(-2px); }
  .pill-row { display: flex; gap: 0.5rem; flex-wrap: wrap; }
  .pill { display: inline-flex; align-items: center; padding: 0.35rem 0.75rem; border-radius: 999px; border: 1px solid var(--border); background: rgba(0,255,136,0.08); color: var(--text); font-size: 0.85rem; }
  .section { display: flex; flex-direction: column; gap: 1.5rem; }
  .section-header { max-width: 780px; display: flex; flex-direction: column; gap: 0.5rem; }
  .section-sub { color: var(--text-secondary); }
  .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 1rem; }
  .card { border: 1px solid var(--border); border-radius: 14px; padding: 1.4rem; background: var(--bg-secondary); box-shadow: 0 10px 28px rgba(0,0,0,0.3); display: flex; flex-direction: column; gap: 0.5rem; }
  .steps { display: grid; gap: 0.8rem; padding-left: 1rem; color: var(--text-secondary); }
  .steps strong { color: var(--text); }
  .faq-items { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 1rem; }
  .faq-item { border: 1px solid var(--border); border-radius: 14px; padding: 1.2rem; background: var(--bg-secondary); box-shadow: 0 10px 24px rgba(0,0,0,0.28); }
  .cta { border: 1px solid var(--border); border-radius: 16px; padding: 2.5rem; background: linear-gradient(135deg, rgba(0,255,136,0.08), rgba(0,0,0,0.9)); text-align: center; display: grid; place-items: center; box-shadow: 0 14px 40px rgba(0,0,0,0.35); }
  .cta__content { display: flex; flex-direction: column; gap: 0.6rem; align-items: center; max-width: 720px; }
  .cta__actions { display: flex; gap: 0.75rem; flex-wrap: wrap; justify-content: center; margin-top: 0.5rem; }
  @media (max-width: 768px) {
    .page { padding: 100px 1.25rem 70px; }
    .hero { padding: 2rem 1.5rem; }
    .hero-actions { flex-direction: column; align-items: stretch; }
    .btn { width: 100%; justify-content: center; }
    .grid { grid-template-columns: 1fr; }
    .faq-items { grid-template-columns: 1fr; }
  }
</style>
